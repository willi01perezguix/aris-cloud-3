# v1.1.1 Day 10 — Smoke test (entorno limpio)

## Entorno limpio usado
- Host: contenedor CI de trabajo
- Python: 3.10.x
- Entorno: `venv` nuevo en `/tmp/aris311-smoke`
- Instalación SDK desde wheel local `aris3_client_sdk-1.1.1-py3-none-any.whl`

## Pasos ejecutados
1. Crear venv limpio con acceso a site-packages base del runner:
   ```bash
   python -m venv /tmp/aris311-smoke --system-site-packages
   ```
2. Instalar wheel final del SDK:
   ```bash
   /tmp/aris311-smoke/bin/python -m pip install --no-deps --force-reinstall clients/python/aris3_client_sdk/dist/aris3_client_sdk-1.1.1-py3-none-any.whl
   ```
3. Validar import + strict config:
   ```bash
   /tmp/aris311-smoke/bin/python - <<'PY'
   import os
   from aris3_client_sdk.config import load_config
   print('import_ok')
   os.environ.pop('ARIS3_API_BASE_URL', None)
   try:
       load_config()
   except Exception:
       print('strict_config_ok')
   PY
   ```

## Resultado
- **PASS**
- Evidencia observada:
  - `import_ok`
  - excepción de configuración esperada (`ConfigError`) al faltar `ARIS3_API_BASE_URL`
  - `strict_config_ok`

## Hallazgos
- Durante una corrida preliminar en venv totalmente aislado (`--no-deps`) se detectó falta de `tomli` para Python 3.10.
- Se corrigió agregando dependencia condicional en packaging:
  - `tomli>=2.0; python_version < "3.11"`
- Tras el ajuste, el smoke final quedó en PASS.
